{% comment %}
  Renders custom variant selector with grid layout
  
  Accepts:
  - product: {Object} Product object
  - block: {Object} Block object (optional)
  
  Usage:
  {% render 'product-variant-selector-custom', product: product, block: block %}
{% endcomment %}

{% unless product.has_only_default_variant %}
  <div class="mb-6" {{ block.shopify_attributes }}>
    <label class="block text-sm font-bold text-foreground mb-3">SELECT VARIANT</label>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
      {% for variant in product.variants %}
        <button
          class="variant-option p-4 rounded-lg border-2 transition-all text-center border-border hover:border-primary/50 {% if variant == product.selected_or_first_available_variant %}border-primary bg-primary/10{% endif %}"
          data-variant-id="{{ variant.id }}"
          data-variant-price="{{ variant.price | money }}"
          data-variant-available="{{ variant.available }}"
          {% unless variant.available %}disabled{% endunless %}
        >
          <div class="text-sm font-medium text-foreground">{{ variant.title }}</div>
          <div class="text-xs text-muted-foreground mt-1">{{ variant.price | money }}</div>
          {% unless variant.available %}
            <div class="text-xs text-destructive mt-1">Sold Out</div>
          {% endunless %}
        </button>
      {% endfor %}
    </div>
  </div>
{% endunless %}
